# =============================================================================
# EdTech Tutor Agent - Environment Configuration
# =============================================================================

# Environment
ENVIRONMENT=dev  # dev, prod, test
DEBUG=true
SECRET_KEY=change-me-in-production-use-openssl-rand-hex-32

# API Configuration
API_TITLE="EdTech Tutor Agent"
API_VERSION="0.1.0"
API_PREFIX="/api/v1"
HOST=0.0.0.0
PORT=8000
WORKERS=4

# CORS
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# =============================================================================
# LLM Provider (OpenAI)
# =============================================================================

LLM_PROVIDER=openai
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL_NAME=gpt-4-turbo-preview
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=1000
OPENAI_TIMEOUT=30

# Fallback model
FALLBACK_MODEL_NAME=gpt-3.5-turbo

# Embeddings
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIMENSIONS=1536

# =============================================================================
# Qdrant Vector Database
# =============================================================================

QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=  # Optional, leave empty for local development
QDRANT_COLLECTION_COURSES=courses_content
QDRANT_COLLECTION_QUIZ=quiz_bank
QDRANT_COLLECTION_HISTORY=student_history
QDRANT_TIMEOUT=10
QDRANT_RETRY_ATTEMPTS=3

# =============================================================================
# Redis
# =============================================================================

REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=  # Optional
REDIS_TIMEOUT=5

# =============================================================================
# Rate Limiting
# =============================================================================

RATE_LIMIT_REQUESTS_PER_HOUR=100
RATE_LIMIT_TOKENS_PER_DAY=10000

# =============================================================================
# RAG Configuration
# =============================================================================

RAG_TOP_K=5
RAG_SCORE_THRESHOLD=0.7
RAG_MULTI_QUERY_VARIATIONS=3
RAG_COMPRESSION_ENABLED=true
RAG_MAX_CONTEXT_LENGTH=8000

# =============================================================================
# Memory
# =============================================================================

MEMORY_BUFFER_SIZE=10
MEMORY_SUMMARY_ENABLED=true

# =============================================================================
# Tools
# =============================================================================

CODE_EXECUTOR_ENABLED=true
CODE_EXECUTOR_TIMEOUT=10
QUIZ_GENERATOR_ENABLED=true

# =============================================================================
# Monitoring & Observability
# =============================================================================

# LangSmith
LANGSMITH_API_KEY=  # Optional
LANGSMITH_PROJECT=edtech-tutor
LANGSMITH_ENABLED=false

# Sentry
SENTRY_DSN=  # Optional
SENTRY_ENABLED=false
SENTRY_ENVIRONMENT=development

# Prometheus
PROMETHEUS_ENABLED=true

# =============================================================================
# Logging
# =============================================================================

LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json, console

# =============================================================================
# Evaluation
# =============================================================================

RAGAS_EVALUATION_ENABLED=true
RAGAS_SAMPLE_SIZE=50
LLM_JUDGE_ENABLED=false
LLM_JUDGE_MODEL=gpt-4
